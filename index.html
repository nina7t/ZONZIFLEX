<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pour mon amour ‚ù§Ô∏è</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Climate+Crisis&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <h1 class="fade-up">ZONZONLAND</h1>
  <section class="fade-up">
    <p style="font-size:1.3rem;line-height:1.5;text-align:center;margin-bottom:2rem">
      <b>Pour mon chouchou...</b><br><br>
      Parce que chaque jour tu me remplis de bonheur, tu es mon petit rayon de soleil, et pour √ßa je te dis merci.<br>
      Quand nos chemins se sont crois√©s, j'ai senti que tout √©tait fait pour que nous soyons ensemble. Comme si les √©toiles s'√©taient align√©es pour nous, un peu comme dans les plus belles chansons d'amour.<br><br>
      Cela fait maintenant 7 mois que nous nous sommes rencontr√©s, et l'amour que j'ai pour toi ne fait que grandir.<br>
      J'ai voulu cr√©er une petite page web pour que nous ayons notre cocon musical, un peu comme la premi√®re grande lettre que je t'ai √©crite.<br><br>
      Consid√®re √ßa comme une lettre d'amour √† laquelle j'ai ajout√© des musiques de lover, hihi.<br>
      Maintenant, tu peux cliquer, √©couter, contempler‚Ä¶ et surtout sourire ü§ó  Je t'aime fort ‚ù§Ô∏è ta ninou ps: va jusqu'en bas de la page
    </p>
  </section>

  <!-- NAV BAR -->
  <nav class="nav">
    <ul>
      <li><a href="#music">Musique</a></li>
      <li>
        <div class="wave-icon paused" id="playToggle">
          <div class="wave-bar"></div>
          <div class="wave-bar"></div>
          <div class="wave-bar"></div>
        </div>
      </li>
      <li><a href="#gallery">Galerie</a></li>
    </ul>
  </nav>

  <!-- TITRE MUSIQUE -->
  <h2 class="music-title fade-up" id="music">NOS SONS DE LOVEUSE</h2>

  <!-- AUDIO PLAYER CACH√â -->
  <audio id="player" controls></audio>

  <!-- INDICATEUR DE LECTURE -->
  <div class="now-playing" id="nowPlaying">
    <span id="currentTrack">Cliquez sur une image pour commencer</span>
  </div>

  <!-- PHOTO GALLERY EN MASONRY -->
  <section class="gallery fade-up" id="gallery">
    <img src="images/amor.jpg" alt="Souvenir 1" data-audio="music/Amor.mp3" data-title="Amor Amor Amor">
    <img src="images/barry.jpg" alt="Souvenir 2" data-audio="music/Barry White - My First My Last My Everything.mp3" data-title="My First, My Last, My Everything">
    <img src="images/celinedion.jpg" alt="Souvenir 3" data-audio="music/C√©line Dion - The Power Of Love (Official Video).mp3" data-title="The Power of Love">
    <img src="images/chapman.jpg" alt="Souvenir 4" data-audio="music/Tracy Chapman - Baby Can I Hold You (Official Music Video).mp3" data-title="Baby Can I Hold You">
    <img src="images/crowedhouse.jpg" alt="Souvenir 5" data-audio="music/Crowded House - Dont Dream Its Over (Audio Remastered) (HQ).mp3" data-title="Don't Dream It's Over">
    <img src="images/dirtydancing.jpg" alt="Souvenir 6" data-audio="music/Bill Medley, Jennifer Warnes - (Ive Had) The Time Of My Life (Official HD Video).mp3" data-title="The Time of My Life">
    <img src="images/Elle-est-dailleurs.jpg" alt="Souvenir 7" data-audio="music/Pierre Bachelet - Elle est dailleurs (Audio).mp3" data-title="Elle est d'ailleurs">
    <img src="images/eltojohn.jpg" alt="Souvenir 8" data-audio="music/Blue, Elton John - Sorry Seems To Be The Hardest Word.mp3" data-title="Sorry Seems To Be The Hardest Word">
    <img src="images/lionelrichie.jpg" alt="Souvenir 9" data-audio="music/Say You, Say Me.mp3" data-title="Say You, Say Me">
    <img src="images/love.jpg" alt="Souvenir 10" data-audio="music/L-O-V-E.mp3" data-title="L-O-V-E">
    <img src="images/lovehurt.jpg" alt="Souvenir 11" data-audio="music/Nazareth - Love Hurts (Official Audio).mp3" data-title="Love Hurts">
    <img src="images/nothing.jpg" alt="Souvenir 12" data-audio="music/Glenn Medeiros - Nothings Gonna Change My Love for You.mp3" data-title="Nothing's Gonna Change My Love for You">
    <img src="images/police.jpg" alt="Souvenir 13" data-audio="music/The Police - Every Breath You Take (Official Video).mp3" data-title="Every Breath You Take">
    <img src="images/sabali.jpg" alt="Souvenir 14" data-audio="music/Amadou & Mariam - Sabali (Official Audio).mp3" data-title="Sabali">
    <img src="images/takemybreath.jpg" alt="Souvenir 15" data-audio="music/Berlin - Take My Breath Away (Official Video - Top Gun).mp3" data-title="Take My Breath Away">
    <img src="images/umbertotozzi.jpg" alt="Souvenir 16" data-audio="music/Umberto Tozzi - Ti amo (Official Audio).mp3" data-title="Ti amo">
    <img src="images/unchainedmelody.jpg" alt="Souvenir 17" data-audio="music/Unchained Melody.mp3" data-title="Unchained Melody">
    <img src="images/wham.jpg" alt="Souvenir 18" data-audio="music/George Michael - Careless Whisper (Official Video).mp3" data-title="Careless Whisper">
    <img src="images/words.jpg" alt="Souvenir 19" data-audio="music/Unchained Melody.mp3" data-title="Words">
  </section>

  <section class="nous fade-up">
    <h2>Nous ‚ù§Ô∏è</h2>
    <div class="carousel">
      <button class="prev">&#10094;</button>
      <div class="carousel-track">
        <img src="images/zonzon.jpeg" alt="Souvenir 1">
        <img src="images/nous.jpeg" alt="Souvenir 2">
        <img src="images/20250424_175013.jpg" alt="Souvenir 3">
        <img src="images/20250428_203753-1.jpg" alt="Souvenir 4">
      </div>
      <button class="next">&#10095;</button>
    </div>
  </section>

  <footer class="fade-up">Fait avec tout mon ‚ù§Ô∏è rien que pour toi.</footer>

  <script>
    const player = document.getElementById('player');
    const playToggle = document.getElementById('playToggle');
    const galleryImgs = [...document.querySelectorAll('#gallery img')];
    const nowPlaying = document.getElementById('nowPlaying');
    const currentTrack = document.getElementById('currentTrack');

    // Construire la playlist √† partir des images
    const tracks = galleryImgs
      .filter(img => img.dataset.audio)
      .map(img => ({
        title: img.dataset.title || img.alt || 'Titre inconnu',
        file: img.dataset.audio,
        cover: img.src
      }));

    let currentIndex = 0;
    const FADE_TIME = 800;
    const VOLUME_STEP = 0.05;

    function fade(target, cb) {
      const dir = target > player.volume ? 1 : -1;
      const steps = Math.abs((target - player.volume) / VOLUME_STEP);
      const delay = FADE_TIME / (steps || 1);
      const id = setInterval(() => {
        let v = player.volume + dir * VOLUME_STEP;
        v = Math.max(0, Math.min(1, v));
        player.volume = v;
        if ((dir === 1 && v >= target) || (dir === -1 && v <= target)) {
          clearInterval(id);
          cb && cb();
        }
      }, delay);
    }

    function loadTrack(i) {
      const start = () => {
        currentIndex = i;
        player.src = tracks[i].file;
        player.volume = 0;
        player.load();
        player.play().catch(e => console.error('Erreur lecture', e));
        fade(1);
        highlight(i);
        
        // Mettre √† jour l'indicateur
        currentTrack.textContent = `‚ô™ ${tracks[i].title}`;
        nowPlaying.classList.add('active');
      };
      player.paused ? start() : fade(0, start);
    }

    function highlight(i) {
      galleryImgs.forEach((img, idx) => {
        if (idx === i) {
          img.classList.add('playing');
        } else {
          img.classList.remove('playing');
        }
      });
    }

    // √âv√©nements sur les images
    galleryImgs.forEach((img, i) => {
      img.addEventListener('click', () => {
        if (i < tracks.length) {
          loadTrack(i);
        }
      });
    });

    // Contr√¥le play/pause
    playToggle.addEventListener('click', () => {
      if (player.paused) {
        if (player.src) {
          fade(1);
          player.play();
        } else {
          loadTrack(0);
        }
      } else {
        fade(0, () => player.pause());
      }
    });

    // √âv√©nements du lecteur
    player.addEventListener('play', () => {
      playToggle.classList.remove('paused');
      nowPlaying.classList.add('active');
    });

    player.addEventListener('pause', () => {
      playToggle.classList.add('paused');
    });

    player.addEventListener('ended', () => {
      loadTrack((currentIndex + 1) % tracks.length);
    });

    // Animation d'apparition
    const observer = new IntersectionObserver(entries => {
      entries.forEach(e => e.isIntersecting && e.target.classList.add('visible'));
    }, { threshold: 0.2 });

    document.querySelectorAll('.fade-up, .gallery img').forEach(el => observer.observe(el));
    const track = document.querySelector('.carousel-track');
const prevBtn = document.querySelector('.carousel .prev');
const nextBtn = document.querySelector('.carousel .next');
const slides = document.querySelectorAll('.carousel img');

let currentSlide = 0;

function updateCarousel() {
  const slideWidth = slides[0].clientWidth;
  track.style.transform = `translateX(-${currentSlide * slideWidth}px)`;
}

nextBtn.addEventListener('click', () => {
  currentSlide = (currentSlide + 1) % slides.length;
  updateCarousel();
});

prevBtn.addEventListener('click', () => {
  currentSlide = (currentSlide - 1 + slides.length) % slides.length;
  updateCarousel();
});

window.addEventListener('resize', updateCarousel);
  
  
  
  </script>
</body>
</html>